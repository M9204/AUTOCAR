<!DOCTYPE html>
<html>
<head>
  <title>Relay Control JSON Editor</title>
</head>
<body>
  <h2>Relay State Editor</h2>
  <form id="relayForm">
    <label><input type="checkbox" id="relay0"> Relay 0</label><br>
    <label><input type="checkbox" id="relay1"> Relay 1</label><br>
    <label><input type="checkbox" id="relay2"> Relay 2</label><br>
    <label><input type="checkbox" id="relay3"> Relay 3</label><br><br>
    <button type="button" onclick="downloadJSON()">Download JSON</button>
  </form>

  <script>
    function downloadJSON() {
      const data = {
        relay0: document.getElementById('relay0').checked ? "on" : "off",
        relay1: document.getElementById('relay1').checked ? "on" : "off",
        relay2: document.getElementById('relay2').checked ? "on" : "off",
        relay3: document.getElementById('relay3').checked ? "on" : "off"
      };
      const jsonStr = JSON.stringify(data, null, 2);
      const blob = new Blob([jsonStr], {type: "application/json"});
      const url = URL.createObjectURL(blob);

      const a = document.createElement('a');
      a.href = url;
      a.download = "relay_state.json";
      a.click();
      URL.revokeObjectURL(url);
    }
  </script>
</body>
</html>
